\documentclass[12pt]{csulb-thesis-old}
%\usepackage{csulbthm} % this is broken. need to fix and use instead of amsthm?
\usepackage{amsthm}
\usepackage{setspace}
\usepackage{pslatex}
\usepackage{amsfonts, amsmath, mathrsfs}
\usepackage{amsxtra, amssymb, amscd, mathtools}
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{rotating}
\usepackage{bm}
\usepackage{hyperref}
\usepackage[capitalise]{cleveref}

\usepackage{multicol}
\usepackage{lscape}
\usepackage{datatool} % Allows importing tables
\usepackage{longtable}
\usepackage[inline]{enumitem}
\usepackage[dvipsnames]{xcolor}
\usepackage[normalem]{ulem}
\usepackage{minitoc}
%\usepackage{booktabs} % requires for pandas.DataTable.to_latex() for listings?
\usepackage{xspace} %punctuation sensitive spacing at end of ensuremath environment
\usepackage{tabulary} %auto word wrapping on tables

\usepackage[T1]{fontenc}
\usepackage{newtxtext,newtxmath} 
\usepackage[utf8]{inputenc}



%%%%%%% VISIBLE COMMENTS / TODOS / CLEANUP TODOS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% to make interspersed comments visible, uncomment these three lines and comment out the three below
%\newcommand{\vcomment}[1]{\textit{\textcolor{Blue}{[#1]}}}
%\newcommand{\vtodo}[1]{\textbf{\textcolor{Red}{[TODO:\;#1]}}}
%\newcommand{\vcleanup}[1]{\textcolor{Orchid}{[CLEANUP:\;#1]}}

% to hide interspersed comments, uncomment these three lines and comment out the three above
\newcommand{\vcomment}[1]{}
\newcommand{\vtodo}[1]{}
\newcommand{\vcleanup}[1]{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{color}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{graygreen}{rgb}{0.23,0.33,0.25}
\definecolor{mymauve}{rgb}{0.58,0,0.22}
\definecolor{mygray}{rgb}{0.32,0.32,0.32}


\usepackage{listings}

%\usepackage{pxfonts}
\newcommand*\lstinputpath[1]{\lstset{inputpath=#1}}

\lstinputpath{listings}
\lstset{ 
	%inputencoding=utf8,
	extendedchars=false,
	mathescape=true,
	backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
	basicstyle=\linespread{0.8}\ttfamily\footnotesize,   % the size of the fonts that are used for the code
	breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
	breaklines=false,                 % sets automatic line breaking
	captionpos=t,                    % sets the caption-position to bottom
	commentstyle=\color{graygreen},    % comment style
	deletekeywords={...},            % if you want to delete keywords from the given language
	escapeinside={\%@}{@\%)},          % if you want to add LaTeX within your code
	%extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
	frame=bt,	                   % adds a frame around the code
	keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
	keywordstyle=\bfseries\color{blue},       % keyword style
	morekeywords={*,...},            % if you want to add more keywords to the set
	numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
	numbersep=5pt,                   % how far the line-numbers are from the code
	numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
	rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
	showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
	showstringspaces=false,          % underline spaces within strings only
	showtabs=false,                  % show tabs within strings adding particular underscores
	stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
	stringstyle=\color{mymauve},     % string literal style
	tabsize=4,	                   % sets default tabsize to 2 spaces
	title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
} %end lstset

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% math commands

% mathy definitions?
\newtheorem{defn}{Definition}[chapter]
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{axiom}{Axiom}[chapter]


\newcommand{\R}{\mathbb{R}} % the standard 'set of all real numbers'
\newcommand{\N}{\mathbb{N}} % set of all natural numbers
\newcommand{\Z}{\mathbb{Z}} % integers
\newcommand{\Zpos}{\mathbb{Z}_{+}}
\newcommand{\image}{\mathrm{image}} % image of a function
\newcommand{\spn}{\mathrm{span}}

\newcommand{\Vmax}{\ensuremath{\mathcal{V}_{\max}}\xspace}
\newcommand{\VSigma}{\ensuremath{\mathcal{V}_{\Sigma}}\xspace}
\newcommand{\Vsigma}{\ensuremath{\mathcal{V}_{\sigma}}\xspace}
\newcommand{\Sigmaneg}{\Sigma^{(-)}}	

\newcommand{\VSigmapos}{\ensuremath{\mathcal{V}_{\Sigma}^{(+)}}\xspace}
\newcommand{\VSigmaneg}{\ensuremath{\mathcal{V}_{\Sigma}^{(-)}}\xspace}

\newcommand{\Vmaxpos}{\ensuremath{\mathcal{V}^{(+)}_{\max}}\xspace}
\newcommand{\Vmaxneg}{\ensuremath{\mathcal{V}^{(-)}_{\max}}\xspace}
\newcommand{\alphapos}{\alpha^{(+)}}
\newcommand{\alphaneg}{\alpha^{(-)}}
\newcommand{\alphaiso}{\alpha_{\small{\textsc{ISO}}}}


\newcommand{\Hess}{\mathrm{Hess}} % fancy H for the hessian
\newcommand{\wein}{\mathsf{L}} % for the Weingarten map
\newcommand{\weinmat}{\widehat{\mathsf{L}}}
\newcommand{\img}{\mathtt{I}} % discrete image (a matrix, not the math term)

\DeclarePairedDelimiterX{\inner}[2]{\langle}{\rangle}{#1, #2}
\DeclarePairedDelimiterX{\vnorm}[1]{\Vert}{\Vert}{#1}
\DeclarePairedDelimiterX{\abs}[1]{\vert}{\vert}{#1}

\newcommand{\bigO}{\mathcal{O}}

\DeclareMathOperator{\FT}{\mathcal{F}} % fancy F for \FT
\DeclareMathOperator{\DFT}{\mathcal{D}} % fancy D for \DFT


%\newcommand*\mcol[1]{\overset{\big\uparrow}{\underset{\big\downarrow}{#1}}}
\newcommand*\mcol[1]{\overset{\big\vert}{\underset{\big\vert}{#1}}}
%\usepackage[small,singlelinecheck=on]{caption}
%\usepackage[font=singlespacing]{caption}

% each subfolder should be added here. also must end in a /


\graphicspath{{figures/}
			  {figures/frangi3d/}
			  {figures/strict_examples/}
			  {figures/inset_of_sample_issues/}
			  {figures/rw_demo/}
			  {figures/output_examples/}
		  	  {figures/qthresh_demo/}
		  	  {figures/segmentation_montage/}
        	  {figures/segmentation/}
		  	}


% this fixes stuff in the style file I guess? it's illegible
\makeatletter
\def\LT@c@ption#1[#2]#3{%
  \LT@makecaption#1\fnum@table{#3}%
  \def\@tempa{#2}%
  \ifx\@tempa\@empty\else
     {\vspace*{\baselineskip}
     \let\space
     \addcontentsline{lot}{table}{\protect\numberline{4.}{#2}}}%
  \fi}
\makeatother


%%%%%%%%%%%%%%%%%%%%%%%%%%About the Author%%%%
\lastdegree{B.S.} 							%B.S., B.A., etc.
\lastdegyear{2013} 							% year of last degree
\lastdeginst{University of California, Los Angeles}	% University granting degree listed above
\degree{Master of Science in Applied Mathematics}				%CSULB degree
\department{Mathematics and Statistics} 			% department
\gradyear{2019} 							% year you will get current degree
\gradmonth{May} 							% graduation month for current degree
\author{Lucas Allen Wukmer}  					                %Your official CSULB name.

%Enter the title in all caps force returns using \\ to form an inverted pyramid
\title{OPTIMIZED STRICT MULTISCALE FRANGI PREFILTERING FOR SEGMENTATION:
	     TOWARDS AN AUTOMATED PLACENTAL CHORIONIC SURFACE VASCULAR NETWORK EXTRACTION}

%%%%%%%%%%%%%%%%%%%%%%%%%Thesis Committe%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\committeeA{Jen-Mei~Chang,~Ph.D.~(Chair)} 						% insert name of thesis chair; include his/her degree
\committeeAdept{Mathematics and Statistics} 
\committeeB{James~von~Brecht,~Ph.D.} 							% name and degree of 2nd committee member
\committeeBdept{Mathematics and Statistics}
\committeeC{William~Ziemer,~Ph.D.} 							% name and degree of 3rd committee member
\committeeCdept{Mathematics and Statistics} 
\deptHead{Tangan~Gao,~Ph.D.} 						        % name and degree of department chair
\deptHeadTitle{Department Chair, Mathematics and Statistics} 


\begin{document}
\begin{preliminary}

% According to the 2019 guidelines title page comes first before abstract
% then abstract starts at (ii). Also the signature page isn't part of the
% formal document anymore. It's electronic?

%% There should be NOTHING between the title page and abstract.
%% This generates the title page from the information given above.
\maketitle

%% This generates the abstract page, with the line spacing adjusted
%% according to University guidelines.
%%% The university says(At most 150 words or 2 pages).
%% Use \input{} instead of \include{} because \include{} will add a page break and \input{} will not
\begin{abstract}
	\input{manuscript/abstract}
\end{abstract}

%% This generates an "acknowledgements" section, if needed. Comment out if not needed.
%% Use \input{} instead of \include{} because \include{} will add a page break and \input{} will not
\begin{acknowledgements}
\input{manuscript/acknowledgements}
\end{acknowledgements}

%% This generates the Table of Contents (on a separate page).
\setcounter{tocdepth}{0}  %%  Set how many levels to include in the TOC
\dominitoc
\tableofcontents

%% tocdepth counter affects list of tables and figures too.
%% they'll appear blank if tocdepth is 0 above
\setcounter{tocdepth}{1}
%% This generates the List of Tables (on a separate page), if needed.
%% (uncomment to have it appear in the document)
\listoftables

%% This generates the List of Figures (on a separate page), if needed.
%% (uncomment to have it appear in the document)
\listoffigures

%% End of the preliminary sections: reset page style and numbering.
\end{preliminary}

\clearpage 
\pagenumbering{arabic}	%Starts numbering pages in arabic, starts from 1.

\include{manuscript/introduction}		
\include{manuscript/mm-diffgeo}
\include{manuscript/mm-unifrangi}
\include{manuscript/mm-scalespaces}
\include{manuscript/mm-multifrangi}
\include{manuscript/mm-hfft}
%\include{manuscript/mm-morphology}
\include{manuscript/research_protocol}
%\include{manuscript/implementations}
\include{manuscript/results_analysis}
\include{manuscript/segmentation}
%\include{manuscript/network_completion}
\include{manuscript/conclusion}

\HalfPage{Appendices}
%% Renews chapter command so type appendix files in the same way


\myappendix{Code Listings}\label[appendix]{app:listings}
\include{manuscript/appendix}
\myappendix{3D Visualization of the Frangi Filter}\label[appendix]{app:extra-figures}
\include{manuscript/extra_figures}


%Here is the list of cited works.
\HalfPage{Bibliography}

%% then export in BibTeX format into file thesis_bib.bib
\bibliographystyle{ieeetr}
\bibliography{thesis_bib}

\end{document}
